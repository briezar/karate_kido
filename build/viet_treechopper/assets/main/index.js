System.register("chunks:///_virtual/PlayerMovement.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GameController.ts","./SoundManager.ts","./TreeManager.ts"],(function(e){"use strict";var t,n,i,o,r,s,a,c,p,h,l,u,m,y,d,g,f,v,C,A,F,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.defineProperty},function(e){s=e.cclegacy,a=e._decorator,c=e.systemEvent,p=e.SystemEventType,h=e.sys,l=e.resources,u=e.SpriteFrame,m=e.Sprite,y=e.KeyCode,d=e.RigidBody2D,g=e.Vec2,f=e.UITransform,v=e.randomRange,C=e.Component},function(e){A=e.GameController},function(e){F=e.SoundManager},function(e){M=e.TreeManager}],execute:function(){var S,_,D,T,b;s._RF.push({},"41141iF1EBM241YAmD8Eq9A","PlayerMovement",void 0);var k=a.ccclass,I=a.property;e("PlayerMovement",(S=k("PlayerMovement"),_=I({type:M}),S((b=t((T=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(o(t),"treeManager",b,o(t)),r(o(t),"distanceFromTree",void 0),r(o(t),"axeLevel",0),r(o(t),"spriteDirectory",[["lumberjackSilver_0/spriteFrame","lumberjackSilver_1/spriteFrame"],["lumberjackGold_0/spriteFrame","lumberjackGold_1/spriteFrame"]]),r(o(t),"spriteArray",[]),t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;c.on(p.KEY_DOWN,this.onKeyDown,this),this.distanceFromTree=Math.abs(this.node.position.x),this.treeManager.playerMovement=this,parseInt(h.localStorage.getItem("bestScore"))>1e3&&this.axeLevel++,l.load(this.spriteDirectory[this.axeLevel][0],u,(function(t,n){e.spriteArray.push(n),e.getComponent(m).spriteFrame=n})),l.load(this.spriteDirectory[this.axeLevel][1],u,(function(t,n){e.spriteArray.push(n)}))},s.onKeyDown=function(e){if(!A.Instance.isLost&&!A.Instance.isPaused)switch(e.keyCode){case y.ARROW_LEFT:case y.KEY_A:this.chopLeft();break;case y.ARROW_RIGHT:case y.KEY_D:this.chopRight()}},s.chopRight=function(){this.node.setScale(1,1,1),this.node.setPosition(this.distanceFromTree,this.node.position.y,0),this.treeManager.chopTree(),this.playChopAnimation()},s.chopLeft=function(){this.node.setScale(-1,1,1),this.node.setPosition(-this.distanceFromTree,this.node.position.y,0),this.treeManager.chopTree(),this.playChopAnimation()},s.knockDown=function(){var e=this;this.scheduleOnce((function(){e.getComponent(d).linearVelocity=new g(0,-20),F.Instance.playSound(F.Instance.bonkSound)}),.1)},s.knockAway=function(){F.Instance.playSound(F.Instance.punchSound),this.getComponent(f).anchorX=.5,this.getComponent(f).anchorY=.5,this.getComponent(d).angularVelocity=60*this.node.scale.x,this.getComponent(d).linearVelocity=new g(40*this.node.scale.x,v(15,20))},s.playChopAnimation=function(){var e=this;this.unschedule(this.stopChopAnimation),this.getComponent(m).spriteFrame=this.spriteArray[0],this.scheduleOnce((function(){e.getComponent(m).spriteFrame=e.spriteArray[1]}),.05),this.scheduleOnce(this.stopChopAnimation,.2)},s.stopChopAnimation=function(){this.getComponent(m).spriteFrame=this.spriteArray[0]},t}(C)).prototype,"treeManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=T))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var n,e,t,i,r,u,a,c,l,d,p,s;return{setters:[function(o){n=o.defineProperty,e=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.assertThisInitialized,r=o.initializerDefineProperty},function(o){u=o.cclegacy,a=o._decorator,c=o.AudioClip,l=o.game,d=o.AudioSource,p=o.randomRangeInt,s=o.Component}],execute:function(){var h,S,y,f,g,b,m,v,w,C,z;u._RF.push({},"7cad0g3tA5Ltq0k3+lr5PAE","SoundManager",void 0);var A=a.ccclass,M=a.property;o("SoundManager",(h=A("SoundManager"),S=M({type:c}),y=M({type:c}),f=M({type:c}),h((z=C=function(o){function e(){for(var e,t=arguments.length,u=new Array(t),a=0;a<t;a++)u[a]=arguments[a];return e=o.call.apply(o,[this].concat(u))||this,n(i(e),"audioSource",void 0),r(i(e),"woodChopSounds",m,i(e)),r(i(e),"bonkSound",v,i(e)),r(i(e),"punchSound",w,i(e)),e}t(e,o);var u=e.prototype;return u.onLoad=function(){l.addPersistRootNode(this.node),e.Instance=this,this.audioSource=this.getComponent(d)},u.playWoodChopSound=function(){this.audioSource.playOneShot(this.woodChopSounds[p(0,this.woodChopSounds.length)])},u.playSound=function(o){this.audioSource.playOneShot(o)},e}(s),n(C,"Instance",null),m=e((b=z).prototype,"woodChopSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(b.prototype,"bonkSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(b.prototype,"punchSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));u._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlayerMovement.ts"],(function(e){"use strict";var t,o,r,i,s,n,a,c,l,h,u,p,g,m,S,f,d,v,b,y,I;return{setters:[function(e){t=e.defineProperty,o=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,c=e.resources,l=e.Prefab,h=e.instantiate,u=e.find,p=e.Label,g=e.sys,m=e.ProgressBar,S=e.Node,f=e.director,d=e.RigidBody2D,v=e.Vec2,b=e.randomRange,y=e.Component},function(e){I=e.PlayerMovement}],execute:function(){var C,L,P,_,w,B,T;n._RF.push({},"c8e9bxs1nFFQal0VZZInoGS","GameController",void 0);var F=a.ccclass,M=a.property;e("GameController",(C=F("GameController"),L=M({type:I}),C((T=B=function(e){function o(){for(var o,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return o=e.call.apply(e,[this].concat(n))||this,i(s(o),"playerMovement",w,s(o)),t(s(o),"timerBar",void 0),t(s(o),"timer",void 0),t(s(o),"maxTime",6),t(s(o),"scoreLabel",void 0),t(s(o),"floatingNumber",void 0),t(s(o),"touchInput",void 0),t(s(o),"isLost",!1),t(s(o),"isPaused",!1),t(s(o),"score",0),t(s(o),"pool_floatingScore",[]),o}r(o,e);var n=o.prototype;return n.onLoad=function(){var e=this;if(o.Instance=this,c.load("FloatingNumber",l,(function(t,o){e.floatingNumber=o;for(var r=0;r<20;r++)e.pool_floatingScore.push(h(e.floatingNumber)),e.pool_floatingScore[r].active=!1,e.pool_floatingScore[r].setParent(e.node.parent)})),this.scoreLabel=u("Canvas/Score").getComponent(p),null==g.localStorage.getItem("bestScore")&&g.localStorage.setItem("bestScore","0"),window.sessionStorage.setItem("score","0"),this.scoreLabel.string="Score: "+this.score+"\nBest Score: "+parseInt(g.localStorage.getItem("bestScore")),this.timerBar=u("Canvas/Timer").getComponent(m),this.timer=this.maxTime,this.node.on(S.EventType.TOUCH_START,(function(t){e.touchInput=t.getUILocation(),e.isLost||e.isPaused||(e.touchInput.x<540?e.playerMovement.chopLeft():e.playerMovement.chopRight())}),this),null==window.sessionStorage.getItem("showInstruction")){window.sessionStorage.setItem("showInstruction","showed"),this.isPaused=!0,this.timerBar.node.active=!1;var t=u("Canvas/Instruction");t.active=!0,this.scheduleOnce((function(){t.active=!1,e.timerBar.node.active=!0,e.isPaused=!1}),2)}},n.lose=function(){this.isLost=!0,this.score>parseInt(g.localStorage.getItem("bestScore"))&&(this.scoreLabel.string="Score: "+this.score+"\nBest Score: "+this.score,g.localStorage.setItem("bestScore",this.score.toString())),this.scheduleOnce((function(){f.loadScene("scene")}),2)},n.addScore=function(e){this.score+=e;var t=parseInt(g.localStorage.getItem("bestScore"));this.scoreLabel.string="Score: "+this.score+"\nBest Score: "+(this.score>t?this.score:t);var o=this.findActiveFloatingScore();o.setPosition(0,-400,0),o.getComponent(p).string="+"+e,o.getComponent(p).fontSize=50+3*e,o.getComponent(d).applyForceToCenter(new v(500*b(-1,1),b(1e3,1500)),!0),this.scheduleOnce((function(){o.active=!1,o.getComponent(d).linearVelocity=v.ZERO}),1)},n.findActiveFloatingScore=function(){for(var e=0;e<this.pool_floatingScore.length;e++)if(!this.pool_floatingScore[e].active)return this.pool_floatingScore[e].active=!0,this.pool_floatingScore[e]},n.resetBestScore=function(){g.localStorage.setItem("bestScore","0"),this.scoreLabel.string="Score: "+this.score+"\nBest Score: 0"},n.update=function(e){this.isPaused||(this.timerBar.progress=this.timer/this.maxTime,this.timer<=0&&!this.isLost?(this.playerMovement.knockAway(),this.lose()):this.timer-=e)},o}(y),t(B,"Instance",null),w=o((_=T).prototype,"playerMovement",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/TreeManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GameController.ts","./SoundManager.ts"],(function(e){"use strict";var t,i,r,o,n,s,a,h,c,l,p,y,T,d,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.defineProperty},function(e){s=e.cclegacy,a=e._decorator,h=e.Prefab,c=e.RigidBody2D,l=e.Vec2,p=e.instantiate,y=e.UITransform,T=e.Component},function(e){d=e.GameController},function(e){u=e.SoundManager}],execute:function(){var f,v,m,S,g,A,_;s._RF.push({},"db978UlVTlNEJqWablBN1sC","TreeManager",void 0);var k,W=a.ccclass,P=a.property;!function(e){e[e.Tree=0]="Tree",e[e.TreeWithStick=1]="TreeWithStick"}(k||(k={}));e("TreeManager",(f=W("TreeManager"),v=P({type:h}),m=P({type:h}),f((A=t((g=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,r(o(t),"treePrefab",A,o(t)),r(o(t),"treeWithStickPrefab",_,o(t)),n(o(t),"playerMovement",void 0),n(o(t),"treeArray",[]),n(o(t),"treeHeight",void 0),n(o(t),"dropSpeed",1e3),n(o(t),"pool_Tree",[]),n(o(t),"pool_TreeWithStick",[]),n(o(t),"lastPosition",-1),n(o(t),"timeSinceLastChop",0),t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.populateStartingTrees()},s.update=function(e){this.treeArray[0].position.y>this.treeHeight&&this.treeArray[0].setPosition(0,this.treeHeight,0),this.treeArray[0].position.y>.01?this.treeArray[0].setPosition(0,this.treeArray[0].position.y-this.dropSpeed*e,0):this.treeArray[0].position.y<.01&&this.treeArray[0].setPosition(0,0,0);for(var t=1;t<this.treeArray.length;t++)this.treeArray[t].setPosition(0,this.treeArray[t-1].position.y+this.treeHeight,0);this.timeSinceLastChop+=e},s.chopTree=function(){if(this.playerMovement.node.scale.x==this.treeArray[0].scale.x&&"TreeWithStick"==this.treeArray[0].name)return this.playerMovement.knockAway(),void d.Instance.lose();var e=10;u.Instance.playWoodChopSound(),d.Instance.timer+=.5,d.Instance.timer>d.Instance.maxTime&&(d.Instance.timer=d.Instance.maxTime),this.playerMovement.node.scale.x!=this.lastPosition&&(e+=2,this.timeSinceLastChop<.5&&(e+=3)),this.timeSinceLastChop<.2&&(e+=5),d.Instance.addScore(e);var t=this.treeArray.shift();t.getComponent(c).linearVelocity=new l(-100*this.playerMovement.node.scale.x,0),this.scheduleOnce((function(){t.getComponent(c).linearVelocity=l.ZERO,t.active=!1}),1),this.addRandomTree(),this.lastPosition=this.playerMovement.node.scale.x,this.timeSinceLastChop=0,this.playerMovement.node.scale.x==this.treeArray[0].scale.x&&"TreeWithStick"==this.treeArray[0].name&&(this.playerMovement.knockDown(),d.Instance.lose())},s.populateStartingTrees=function(){for(var e=0;e<20;e++)this.pool_Tree.push(p(this.treePrefab)),this.pool_Tree[e].active=!1,this.pool_Tree[e].setParent(this.node),this.pool_TreeWithStick.push(p(this.treeWithStickPrefab)),this.pool_TreeWithStick[e].active=!1,this.pool_TreeWithStick[e].setParent(this.node);this.treeArray[0]=this.node.getChildByName("Tree"),this.treeHeight=this.treeArray[0].getComponent(y).height,this.treeArray[1]=this.findActiveTree(k.Tree),this.treeArray[1].setPosition(0,this.treeHeight,0);for(e=2;e<10;e++)this.addRandomTree()},s.addRandomTree=function(){var e;"TreeWithStick"==this.treeArray[this.treeArray.length-1].name||Math.random()>.5?e=this.findActiveTree(k.Tree):(e=this.findActiveTree(k.TreeWithStick),Math.random()>.5?e.setScale(-1,1,1):e.setScale(1,1,1)),e.setPosition(0,this.treeHeight*this.treeArray.length,0),this.treeArray.push(e)},s.findActiveTree=function(e){if(e==k.Tree){for(var t=0;t<this.pool_Tree.length;t++)if(!this.pool_Tree[t].active)return this.pool_Tree[t].active=!0,this.pool_Tree[t];for(var i=0;i<this.pool_TreeWithStick.length;i++)if(!this.pool_TreeWithStick[i].active)return this.pool_TreeWithStick[t].active=!0,this.pool_TreeWithStick[i]}else if(e==k.TreeWithStick){for(t=0;t<this.pool_TreeWithStick.length;t++)if(!this.pool_TreeWithStick[t].active)return this.pool_TreeWithStick[t].active=!0,this.pool_TreeWithStick[t];for(i=0;i<this.pool_Tree.length;i++)if(!this.pool_Tree[i].active)return this.pool_Tree[t].active=!0,this.pool_Tree[i]}return null},t}(T)).prototype,"treePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(g.prototype,"treeWithStickPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=g))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GameController.ts","./SoundManager.ts","./TreeManager.ts","./PlayerMovement.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});